#pragma once
#include <cstdarg>
namespace Eloquent {
    namespace ML {
        namespace Port {
            class LogisticRegression {
                public:
                    /**
                    * Predict class for features vector
                    */
                    int predict(float *x) {
                        float votes[2] = { -0.001115883175  };
                        votes[0] += dot(x,   -0.001659839411  , -0.058762873388  , 0.038531940193  , -0.001991295086  , 0.009380019073  , 0.004216346661  , -0.039891253425  , -0.00039838066  , 0.012504947633  , 0.024248733779  , 0.025312271028  , -0.001257679562  , -0.033621235447  , -0.014532993988  , -0.027969061027  , 0.003600705311  , 0.03408756411  , -0.005580018588  , -0.009073685545  , 0.006145489757  , 0.034504554596  , -0.001065006552  , 0.023984330549  , -0.027751849506  , -0.012510276256  , -0.015154854308  , -0.040604458432  , -0.005657542658  , 0.027177237157  , -0.04232321298  , 0.009543670089  , 0.020962989331  , 0.020719632685  , -0.059026841784  , 0.033325208762  , 0.01470207012  , -0.001254969569  , 0.008800070932  , 0.017465697147  , -0.008713297634  , 0.024164559476  , 0.02610993692  , 0.028284583423  , -0.036152129881  , -0.023428231545  , 0.012655116029  , 0.039677442406  , -0.004676717299  , 0.039609409416  , 0.029369001384  , -0.01504080811  , -0.014482938363  , 0.009474597659  , 0.002972384793  , 0.038258125271  , 0.005684670263  , 0.025342603808  , 0.025696592955  , 0.031017625695  , -0.018361355188  , -0.011517792417  , -0.00518776266  , 0.005754795773  , 0.004218645171  , 0.02137200011  , -0.021936370574  , -0.003443642492  , 0.047228941507  , 0.006596195296  , 0.004155634738  , 0.014921677811  , 0.000915175605  , -0.022067649517  , -0.008357193332  , 0.001215641138  , -0.017802100945  , 0.008694770194  , 0.039515474224  , -0.014089027944  , 0.00345401317  , -0.049522630905  , 0.007227104238  , -0.008556256891  , -0.030658990562  , -0.001328099179  , 0.017254866246  , 0.020391512811  , 0.000603757207  , -0.005862418604  , -0.035705364718  , 0.006644609231  , 0.002654779134  , 0.007616487656  , -0.012422667081  , 0.006278428707  , 0.000971000579  , -0.037374074401  , -0.001004606007  , -0.00093313047  , -0.009532037701  , 0.016059018397  , -0.01491663328  , -0.02304685716  , 0.018356204161  , 0.006710323952  , -0.002993814362  , 0.011098488415  , -0.015318759378  , -0.060943571095  , 0.005297975413  , 0.004183180838  , -0.004250732018  , 0.015720021339  , -0.004910505952  , -0.007733027557  , 0.029086141355  , -0.015101453094  , 0.003549353309  , 0.010743833067  , 0.019771209129  , -0.053317215911  , -0.00614287391  , 0.008143804494  , 0.028619793495  , 0.04192316617  , 0.000758702296  , -0.014716500297  , -0.001392416026  , -0.003339625944  , -0.00516010636  , 0.033710572002  , -0.001073368935  , -0.02571192849  , 0.006932145029  , 0.010552099089  , 0.016694188375  , 0.049684199139  , 9.7672025e-05  , -0.037359384121  , -0.000728782259  , -0.012215542942  , -0.008989394647  , 0.002973504287  , -0.009697292443  , -0.009740261985  , 0.004371076648  , -0.004133722075  , 0.018196521118  , 0.006012952323  , -0.003205735539  , -0.0201565881  , 0.000125687325  , 0.011430676613  , -0.00907969183  , 0.010739170072  , -0.011952470171  , -0.023824474653  , 0.00113022913  , -0.010205439144  , 0.001625732596  , 0.006524800307  , -0.003269699466  , -0.009371289862  , -0.002057833262  , 0.013915821964  , -0.006806520749  , -0.02214612722  , -0.015471038145  , -0.015016862427  , -0.006831948908  , 0.002259993617  , -0.007985494806  , -0.009762554113  , -0.016904348874  , -0.008909009702  , -0.009834940118  , -0.006467337024  , 0.007446376757  , 0.011161670195  , 0.005675896334  , -0.013772709421  , 0.007779317888  , 0.010206569667  , -0.003805302964  , 0.014562661675  , 0.027233880745  , -0.024795698498  , -0.0152736926  , 0.002542135937  , 0.022668102739  , 0.016181727229  , 0.013611019359  , 0.02976196966  , 0.001138864062  , -0.006519381095  , 0.001482414971  , -0.000465624585  , -0.01881401746  , 0.01587364612  , -0.000704842721  , -0.014067851489  , -0.012318153486  , -0.030227022112  , -0.022595143825  , -0.001900855507  , -0.004328310525  , 0.007867443298  , -0.010516425849  , 0.012847959383  , -0.013865443051  , 0.010195956948  , -0.006375741687  , -0.002696438186  , 0.015013184374  , 0.0020403469  , 0.019822661527  , -0.021945046502  , -0.004593976458  , -0.019667962004  , -0.028435356037  , 0.010254625996  , 0.027621889924  , 0.007835247382  , 0.002566789384  , 0.023068841576  , 0.023887161472  , 0.011118401499  , -0.014571070273  , -0.010799443126  , -0.005992621399  , -0.019319988505  , -0.044269052607  , 0.032410992109  , 0.028835655159  , -0.017350038571  , -0.014634250397  , 0.019019556189  , 0.027456373412  , 0.027049513472  , -0.001443829211  , 0.023326559102  , -0.004452603362  , -0.006676072817  , 0.000953518796  , -0.02169335249  , -0.015998256159  , -0.027598540134  , -0.002972557573  , -0.019711753264  , -0.009135282996  , 0.004523618945  , 8.7021765e-05  , -0.024878220631  , -0.004018907577  , 0.024541550825  , -0.007102220855  , -0.026075238447  , -0.000597386274  , -0.024799442781  , -0.007472240878  , -0.01305360644  , 0.003469756114  , -0.004151591443  , 0.03026044108  , 0.049219985736  , -0.011292462569  , 0.006189827172  , -0.007222762481  , 0.000864471992  , -0.0470856994  , 0.057713519633  , -0.000944473281  , 0.00460185166  , -0.003320161092  , -0.021829592981  , 0.044712235934  , 0.041009846174  , -0.007691665045  , 0.006252152421  , 0.002212146576  , 0.01331887917  , -0.025009788592  , 0.027909945343  , -0.001614950716  , -0.000516331261  , 0.001879512184  , -0.007458052086  , -0.042764522422  , 0.062087357369  , -0.000419476445  , 0.005778750972  , 0.012581040818  , 0.007224340497  , -0.006292608647  , -0.01280072059  , 0.00155811297  , -0.002995662342  , 0.00178640202  , 0.006436982493  , -0.055829644123  , 0.009476177418  , -0.005120813307  , -0.001279981879  , -0.003313536926  , -0.012477742736  , 0.023160864621  , -0.005210693504  , -0.002768609852  , 0.000532485272  , -0.009916556933  , 0.008993999103  , -0.01643761346  , 0.016041559456  , -0.007076942046  , 0.008593965819  , 0.016486749999  , -0.008179867123  , -0.029552272462  , -0.007742500288  , 0.008202541232  , -0.009025883676  , 0.005502735668  , 0.014538309756  , 0.006675172966  , 0.003451916413  , -0.00116240892  , 0.000689194673  , -0.002978747574  , -0.021048174855  , -0.042931888451  , 0.008079704946  , -0.00347088726  , -0.003367777411  , 0.004150761565  , 0.008183994653  , 0.021608618973  , -0.02498194995  , 0.003680523017  , -0.002066796699  , -0.016438405896  , -0.023920241984  , 0.001806049086  , -0.01729573966  , -0.005147458637  , 0.014587527639  , 0.006197551478  , 0.035042524429  , 0.010198547732  , -0.048000546218  , -0.001631998281  , -0.016605308354  , -0.001118302795  , -0.028098029448  , -0.002794774097  , -0.023073058144  , -0.004787446665  , 0.001853961029  , 0.013074434438  , 0.006569195221  , -0.004769052082  , -0.004475125618  , 0.000162769799  , 0.008822236748  , -0.011338952109  , 0.027366430604  , -0.009315783374  , 0.004590719674  , -0.00895107147  , -0.00219981996  , 0.016151607957  , 0.022229180086  , -0.007083054286  , 0.064596251113  , -0.003915923303  , -0.009825563251  , -0.006785935072  , 5.0699138e-05  , 0.004131917708  , -0.035576695196  , 0.003850950283  , 0.006841285303  , 0.007322103237  , -0.000576253304  , -0.018783401455  , -0.033731910909  , -0.012943255908  , -0.004720488857  , 0.003407232247  , -0.026316346108  , 0.008032548936  , -0.033426875663  , -0.001168274454  , -0.00571727496  , -0.009680203934  , 0.012212954647  , -0.008323932816  , 0.004238384319  , -0.008997157935  , 0.002390777465  , -0.010128687374  , -0.027531493678  , 0.00078809668  , 0.008750042885  , -0.004671324521  , 0.006381692181  , 0.008736893856  , 0.020585857966  , -0.019025249652  , -0.002849265276  , -0.006838218833  , -0.011644761352  , 0.007837987452  , 0.00527024075  , -0.008952494738  , -0.005899992549  , 0.003849017395  , -0.00024179396  , 0.002039992583  , 0.011819665659  , 0.014386014545  , -0.030535652334  , -0.003401711624  , 0.008450416207  , -0.003508574947  , -0.044824912157  , -0.032384963951  , -0.025028003336  , -0.008407987102  , -0.006433318951  , -0.000228388208  , 0.036245680238  , 0.003523348962  , 0.037979888246  , -0.003175129547  , -0.016864613705  , -0.006766626301  , 0.032459038901  , -0.01180135191  , -0.024387979142  , -0.013739632183  , -0.004660976173  , -0.001194947783  , 0.040263389682  , 0.025254417282  , 0.017901253602  , -0.002151445214  , 0.004735127665  , -6.4890594e-05  , -0.005039149843  , -0.018988527062  , 0.02841847481  , -0.008329930433  , -0.002325508465  , 0.014812403119  , -0.027486853868  , 0.047422459774  , -0.000853289322  , -0.002055485927  , -0.004361182775  , -0.006398685141  , -0.014241632122  , -0.043752846436  , 0.007857032487  , -0.007550778544  , 0.005454164086  , 0.001417324992  , 0.027835026517  , -0.012366842846  , 0.003618210817  , 0.005895098474  , -0.012192674188  , 0.002358791942  , 0.004171458305  , 0.035354441007  , 0.000273116212  , -0.025560303632  , 0.032496743439  , 0.016961676609  , 0.013443405073  , -0.002657844621  , 0.112368747116  , -0.000176384506  , -0.029620408119  , -0.014050805848  , -0.017020074615  , 0.050528647794  , -0.032305611293  , 0.001328429464  , -0.018316636079  , -0.007506291706  , -0.087348709769  , -0.022536072675  , 0.010441212066  , -0.008659468146  , 0.020841163052  , 0.0052736119  , -0.024380414626  , 0.002500885826  , 0.001528192218  , 0.010281812396  , -0.006886885097  , -0.022057786585  , 0.02400317022  , -0.0327813366  , 0.023446419746  , -0.002056760601  , -0.007912785431  , 0.031295446342  , 0.013996985646  , -0.011559281203  , -0.058302922016  , -0.001641673541  , 0.015560623472  , -0.003437560633  , 0.035139121457  , -0.003848179032  , 0.010638433732  , -0.010003342081  , -0.013663618148  , 0.006075921267  , 0.002137777246  , 0.04326536231  , -0.01936835546  , -0.004559050637  , 0.010421958855  , -0.005787893182  , -0.022893844391  , -0.002137208671  , 0.013541758043  , 0.001938976821  , -0.00270873469  , 0.005317696315  , -0.01912538511  , 0.009393752347  , -0.038407941793  , 0.005399569398  , 0.001942772615  , -0.013023873195  , 0.052876636376  , -0.005337914934  , 0.011491227593  , -0.000123740586  , 0.00129235137  , 0.02745023607  , 0.030633015708  , -0.061141918131  , -0.033053893738  , -0.007825170897  , -0.004184048777  , -0.022741383677  , -0.003136202619  , -0.013013215223  , -0.025504438548  , -0.006469025238  , 0.004053371436  , 0.006286107167  , 0.012068372201  , 0.021592938999  , -0.034430897765  , -0.010817314127  , -0.007212310641  , -0.001412904535  , -0.003005173915  , 0.036161151014  , 0.008100095732  , -0.004783844183  , 0.002901379906  , 0.010545580621  , -0.049253330508  , 0.063060449244  , -0.0110702636  , 0.0003501496  , -0.010454047966  , -0.01559787722  , -0.04326288852  , 0.031454819806  , -0.019376682183  , -0.013705478554  , 0.019699614482  , 0.012143697295  , -0.031235718274  , 0.034448922368  , -0.006155339377  , 0.001456366718  , -0.011519203507  , -0.013293109677  , 0.043573465222  , 0.049231792352  , 0.028335170666  , -0.002219038473  , -0.00024338709  , -0.040271583405  , -0.007046091238  , 0.16361727553  , 0.056016999135  , -0.031119491609  , -0.009347210007  , 0.048964980521  , -0.007800292183  , 0.123904681124  , 0.186401764384  , -0.006075367093  , 0.020218924934  , -0.001964589292 );
                        // return argmax of votes
                        uint8_t classIdx = 0;
                        float maxVotes = votes[0];

                        for (uint8_t i = 1; i < 2; i++) {
                            if (votes[i] > maxVotes) {
                                classIdx = i;
                                maxVotes = votes[i];
                            }
                        }

                        return classIdx;
                    }

                protected:
                    /**
                    * Compute dot product
                    */
                    float dot(float *x, ...) {
                        va_list w;
                        va_start(w, 604);
                        float dot = 0.0;

                        for (uint16_t i = 0; i < 604; i++) {
                            const float wi = va_arg(w, double);
                            dot += x[i] * wi;
                        }

                        return dot;
                    }
                };
            }
        }
    }